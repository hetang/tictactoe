var tictoe=function(){"use strict";function p(e){var t=o.length;for(var n=0;n<t;n++){var r=o[n],i=r.length,u=undefined,a=0,f=0,c=0;for(var h=0;h<i;h++){var p=o[n][h],d=Math.floor(p/3),v=Math.floor(p%3);if(s[d][v]==e){a++}else if(s[d][v]==0){f=d;c=v;u=$("#"+l.cellVal+d+v)}}if(a==2&&typeof u!=="undefined"){s[f][c]=-1;return u}}return undefined}function d(){var e=p(-1);if(e==undefined){e=p(1)}return e}function v(e){if(typeof e!=="undefined"){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=Math.floor(r/3),o=Math.floor(r%3);if(s[i][o]===0){s[i][o]=-1;return $("#"+l.cellVal+i+o)}}}return undefined}function m(){var t=undefined;if(e>1){t=d()}if(typeof t!=="undefined"){return t}else if(i<2&&(s[0][0]==1&&s[2][2]==1||s[0][2]==1&&s[2][0]==1)){t=v(f)}else if(i<2&&(s[0][0]==1&&s[2][1]==1||s[0][2]==1&&s[2][1]==1)){t=v(a)}if(t==undefined){t=v(u)}return t}function g(){var e=o.length,t=false,n=false;for(var r=0;r<e;r++){var i=o[r],u=i.length;for(var a=0;a<u;a++){var f=o[r][a],l=Math.floor(f/3),c=Math.floor(f%3);switch(s[l][c]){case-1:if(t){n=false;t=false}else{n=true;t=false}break;case 1:if(n){n=false;t=false}else{n=false;t=true}break;default:n=false;t=false}if(!n&&!t){break}}if(n){return-1}else if(t){return 1}}return 0}function y(e){if(typeof e!=="undefined"){var t=$(e),s=t;if(i>1){i=0}var o=n[i];var u=r[i++];var a=s.children();if(a.length>0){t=$(a.get(0))}t.html(o);t.addClass(u);s.removeClass("click")}else{throw Error("Please pass required cell object to show selection")}}function b(e){if(e===1){$("#"+l.msgCntr).html("User wins")}else if(e===-1){$("#"+l.msgCntr).html("Computer wins")}else{return}$("#"+l.mainContr+" "+c.click).removeClass("click");$("#"+l.msgCntr).addClass(c.showMsg)}function w(t){var n=$(this);if(n.length>0){var r=n.attr(h.row),i=n.attr(h.col),o=0;s[r][i]=1;y(n);e++;var u=m();if(typeof u!=="undefined"){y(u)}if(e>2){o=g();b(o)}}}var e=0,t={},n=["O","X"],r=["zero","cross"],i=0,s=[[0,0,0],[0,0,0],[0,0,0]],o=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],u=[4,0,2,6,8,1,3,5,7],a=[4,6,8,0,2,5,7,1,3],f=[4,1,3,5,7,0,2,6,8],l={mainContr:"main",cellVal:"cell_",msgCntr:"msgCntr"},c={click:".click",showMsg:"showMsg"},h={row:"data-row",col:"data-col"};t.init=function(){$("#"+l.mainContr).on("click",c.click,w)};return t};$("document").ready(function(){var e=tictoe();e.init()})